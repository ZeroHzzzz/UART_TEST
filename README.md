# 串口测试工具

这是一个专门用于测试串口通信的工具，分为两部分测试，主控/单驱，单驱设备的测试一共三个模式：发送模式、接收模式和Both。主控设备的测试主要为模拟单驱发送数据。

## 使用方法

1. 配置串口参数（在 main.py 中）：
   - SERIAL_PORT：串口号（例如：'COM3' 或 '/dev/ttyUSB0'）
   - BAUD_RATE：波特率（默认：115200）
   - TIMEOUT：超时时间（默认：1秒）

2. 运行程序：
```bash
python main.py
```
或更推荐使用以下命令，这将自动安装依赖
```bash
uv run main.py
```
3. 选择工作模式：
   - 主控
     - 模拟单驱发送数据
   - 驱动板：
     - 发送模式：输入两个整数（-9999 到 9999），分别代表左右电机占空比
     - 接收模式：持续接收并显示速度数据
     - Both模式：先输入一个占空比值，然后持续接收数据

## 通信协议

### 主控->单驱
- 帧头(1字节)：0xA5
- 功能字(1字节)：0x01
- 左电机占空比(2字节)
- 右电机占空比(2字节)
- 校验和(1字节)

例如：
```bash
A5 01 00 00 00 00 A6
```

### 单驱->主控
- 帧头(1字节)：0xA5
- 功能字(1字节)：0x02
- 速度数据(2字节)
- 校验和(1字节)

例如：
```bash
A5 02 00 00 A7
```

## 注意事项

- 确保串口号配置正确
- 输入的占空比值必须在 -9999 到 9999 范围内
- 使用 Ctrl+C 可以安全退出程序
